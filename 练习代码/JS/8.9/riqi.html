<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{margin: 0;padding: 0;}
		a{text-decoration: none;}
		ul{list-style: none;}
		#date{
			width: 750px;
			height: 520px;
			border:1px solid gray;
			margin-top: 150px;
			margin-left: 50px;
			background-color: #fff;
			overflow: hidden;
			position: relative;
			cursor: move;
		}
		#date .select{
			display: block;
			width: 750px;
			height: 120px;
			line-height: 100px;
			background-color: #eee;
			text-align: center;
			font-size: 30px;
			position: fixed;
			top: 150px;
			z-index: 9;
		}
        #date .select a#left{
           float:left;
           margin-left: 20px;
           color: #999;
           font-size: 25px;
        }
        #date .select a#right{
          float:right;
          margin-right:20px;
          color: orange;
          font-size: 25px;
        }
        #date .riqi{
        	height: 400px;
        	overflow:hidden;
        	margin-top: 100px;
        }
        #date .riqi .guding{
        	height: 40px;
        	width: 750px;
        	border-top: 1px solid gray;
        	border-bottom: 1px solid gray;
        	position: absolute;
        	top: 250px;
        	z-index: 99;
        }
        #date .riqi .guding p.nian,
        #date .riqi .guding p.yue,
        #date .riqi .guding p.ri{
        	width: 200px;
        	height: 40px;
        	line-height: 40px;
        	float: left;
        	font-size: 25px;
        	text-align: right;
        	padding-right: 50px;
        }
        #date .riqi #year{
            height: 400px;
        	width:250px;
            background-color: #fff;
        	position: absolute;
        	top: 100px;
        	left: 0;
        }
        #date .riqi #year li,
        #date .riqi #month li,
        #date .riqi #day li{
             height: 40px;
             text-align: center;
             font-size: 25px;
        }
        #date .riqi #month{
             height: 400px;
        	width:250px;
        	text-align: center;
        	position: absolute;
        	top: 100px;
        	left: 250px;
        }
        #date .riqi #day{
        	height: 400px;
        	width:250px;
        	position: absolute;
        	top: 100px;
        	left: 500px;
        	text-align: center;
        }
  
	</style>
<script>
	window.onload = function () {
		 var year = document.getElementById('year');
		 var date = document.getElementById('date');
		 var body = document.getElementsByTagName('body')[0];
		 var month = document.getElementById('month');
		 var day = document.getElementById('day');
		 var riqi = document.getElementsByClassName('riqi')[0];
		 var ri = document.getElementsByClassName('ri')[0];
		 var select = document.getElementsByClassName('select')[0];
         // console.log(select);
 // ============================year===================================
		 year.onmousedown = function(){
		 	console.log('按压year');
		 	date.onmousemove = function(e){
		 		var event = e ? e : window.event;
		 		 var y1 = e.pageY -420 ;
		 		 console.log(y1);
		 		 year.style.top = y1 + 'px';

                 //取消文字的选中
                  window.getSelection ? window.getSelection().removeAllRanges() : 
                  document.selection.empty();           
		 	}
		 	year.onclick = function(){
		 		console.log('click');
               	date.onmousemove = null;
           }
           select.onclick = function(){
		 		console.log('click');
               	date.onmousemove = null;
           }
		 }
// ============================month===================================
		 month.onmousedown = function(){
		 	console.log('按压month');
		 	date.onmousemove = function(e){
		 		var event = e ? e : window.event;
		 		 var y2 = e.pageY - 340 ;
		 		 console.log(y2);
		 		 if(y2 < 250){
		 		 	month.style.top = y2 + 'px';
		 		 }
		 		 
                 //取消文字的选中
                  window.getSelection ? window.getSelection().removeAllRanges() : 
                  document.selection.empty();           
		 	}
		 	month.onmouseup = function(){
		 		console.log('click');
               	date.onmousemove = null;
           }
           year.onclick = function(){
		 		console.log('click');
               	date.onmousemove = null;
           }
		 }
// ============================day===================================
         day.onmousedown = function(){
		 	console.log('按压day');
		 	date.onmousemove = function(e){
		 		var event = e ? e : window.event;
		 		 var y3 = e.pageY - 340 ;
		 		 console.log(y3);
		 		 if(y3 < 250){
		 		 	day.style.top = y3 + 'px';
		 		 }
		 		 
                 //取消文字的选中
                  window.getSelection ? window.getSelection().removeAllRanges() : 
                  document.selection.empty();           
		 	}
		 	day.onclick = function(){
		 		console.log('点击');
               	date.onmousemove = null;
           }
           year.onclick = function(){
		 		console.log('click');
               	date.onmousemove = null;
           }
		 }
	}
</script>
</head>
<body>
	<div id="date">
		<p class="select">
		  <a href="#" id="left">取消</a>
		  选择日期
		  <a href="javascript:;" id="right">确定</a>
		</p>
		<div class="riqi">
			<div class="guding"><p class="nian">年</p><p class="yue">月</p><p class="ri">日</p></div>
			<div id="year">
				<ul>
				   <li>2015</li>
				   <li>2016</li>
					<li>2017</li>
					<li>2018</li>
					<li>2019</li>
					<li>2020</li>
					<li>2021</li>
					<li>2022</li>
					<li>2023</li>
					<li>2024</li>
					<li>2025</li>
					<li>2026</li>
					<li>2027</li>
					<li>2028</li>
				</ul>
			</div>
			<div id="month">
				<ul>				   
					<li>1</li>
					<li>2</li>
					<li>3</li>
					<li>4</li>
					<li>5</li>
					<li>6</li>
					<li>7</li>
					<li>8</li>
					<li>9</li>
					<li>10</li>
					<li>11</li>
					<li>12</li>
				</ul>
			</div>
			<div id="day">
				<ul>				   
					<li>1</li>
					<li>2</li>
					<li>3</li>
					<li>4</li>
					<li>5</li>
					<li>6</li>
					<li>7</li>
					<li>8</li>
					<li>9</li>
					<li>10</li>
					<li>11</li>
					<li>12</li>
				</ul>
			</div>
		</div>
	</div>
</body>
</html>